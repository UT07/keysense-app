appId: com.purrrfectkeys.app
name: Ensure Home Screen
---
# Helper: Ensure we're on the HomeScreen
# Handles dev launcher, onboarding, and auth skip if needed

# Handle dev client launcher if present
- runFlow: dismiss-dev-launcher.yaml

# Complete onboarding if shown
- runFlow:
    when:
      visible:
        id: "onboarding-screen"
    file: complete-onboarding.yaml

# Skip auth if shown
- runFlow:
    when:
      visible:
        id: "auth-screen"
    commands:
      - tapOn:
          id: "skip-signin"

# Wait for home screen
- extendedWaitUntil:
    visible:
      id: "home-screen"
    timeout: 10000
